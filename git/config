# -*- conf -*-

[core]
whitespace = fix,-indent-with-non-tab,trailing-space,cr-at-eol
#pager = less -+F

[alias]
st = status -sb
##
ci = commit
amend= commit --amend
##
co = checkout
##
cl = clone --recurse-submodules
##
br = branch
brl = branch -v -a
##
rb = rebase
##
ps = push
pl = pull --recurse-submodules
up-submod = submodule update --recursive --init --remote
##
df = diff
dc = diff --cached
changes = diff --stat -r
##
re = rebase
rei = rebase --interactive
#
l = log --decorate --pretty=format:'\n~~~ %C(yellow)commit %H%Creset %C(magenta)%d%Creset\nAuthor: %C(cyan)%aN <%ae>%Creset\nDate: %Cgreen%cd\n\n%Creset %s'
lg = log --graph --pretty=format:'%C(red reverse)%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative
lp = log -p
who = shortlog -s --
new = !sh -c 'git log $1@{1}..$1@{0} "$@"'
lcount = shortlog -sn
#
patch-out = format-patch --stdout
patch-in = apply

# git-flow plugin required
fstart = flow feature start
fco = flow feature checkout
fpl = flow feature pull
fps = flow feature push
frb = flow feature rebase
hstart = flow feature start
hco = flow hotfix checkout
hpl = flow hotfix pull
hps = flow hotfix push
hrb = flow hotfix rebase

# git-gitlab plugin required. To install: gem install git-gitlab
gl-feature-merge = gitlab merge SOURCE_BRANCH TARGET_BRANCH --assign USER_NAME
gl-hotfix-merge = gitlab merge SOURCE_BRANCH TARGET_BRANCH --assign USER_NAME
gl-ls = gitlab merge --list
gl-set-project = git config gitlab.project


[color]
ui = always

[color "branch"]
current = yellow reverse
local = yellow
remote = green

[color "diff"]
meta = yellow bold
frag = magenta bold
old = red bold
new = green bold

[color "status"]
added = yellow
changed = green
untracked = cyan

[filter "encrypt"]
clean = gpg -q --batch --no-tty -e -r ferk
smudge = gpg -q --batch --no-tty -d

[diff "gpg"]
textconv = gpg -q --batch --no-tty -d

[push]
default = simple

[credential]
helper = cache --timeout=28800


##########################################

# For machine/user specific settings you might want to use ~/.gitconfig
# the settings in there will take precedence over the ones in this file.
# For example, you might want to use that for defining your user:
#
#  [user]
#  email = <YOUR EMAIL>
#  name = <YOUR NAME>

##########################################

# git merge -s ours --no-commit packages/master
# git read-tree -prefix="" -u packages/master

# git filter-branch --env-filter '
# OLD_EMAIL="old@mail.con"
# CORRECT_NAME="Name"
# CORRECT_EMAIL="new@mail.com"
# 
# if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
# then
#     export GIT_COMMITTER_NAME="$CORRECT_NAME"
#     export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
# fi
# if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
# then
#     export GIT_AUTHOR_NAME="$CORRECT_NAME"
#     export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
# fi
# ' --tag-name-filter cat -- --branches --tags
